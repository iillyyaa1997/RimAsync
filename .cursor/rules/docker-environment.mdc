# Docker Environment Rules

## üê≥ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Docker

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:** –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–±–æ—Ä–∫–∏ RimAsync –ø—Ä–æ–µ–∫—Ç–∞ –î–û–õ–ñ–ù–´ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö.

### üö´ –ù–ò–ö–û–ì–î–ê –ù–ï –ò–°–ü–û–õ–¨–ó–£–ô:

- `dotnet build` –Ω–∞–ø—Ä—è–º—É—é –≤ —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º–µ
- `dotnet test` –Ω–∞–ø—Ä—è–º—É—é –≤ —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º–µ  
- `dotnet run` –Ω–∞–ø—Ä—è–º—É—é –≤ —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º–µ
- –õ—é–±—ã–µ –∫–æ–º–∞–Ω–¥—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ .NET SDK

### ‚úÖ –í–°–ï–ì–î–ê –ò–°–ü–û–õ–¨–ó–£–ô Docker –∫–æ–º–∞–Ω–¥—ã:

#### –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞:
```bash
docker-compose up build              # –ü–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞
docker-compose up quick-build        # –ë—ã—Å—Ç—Ä–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è —Å–±–æ—Ä–∫–∞
```

#### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```bash
docker-compose up test               # –í—Å–µ —Ç–µ—Å—Ç—ã
docker-compose run test dotnet test Tests/Unit/  # Unit —Ç–µ—Å—Ç—ã
docker-compose run test dotnet test Tests/Integration/  # Integration —Ç–µ—Å—Ç—ã
```

#### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
```bash
docker-compose up dev                # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
docker-compose exec dev bash         # –î–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
```

#### –†–µ–ª–∏–∑:
```bash
docker-compose up release            # –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞
```

### üéØ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥

–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–æ–º–∞–Ω–¥ @execute-task, @create-tests, @run-tests:

1. **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø—Ä–æ–≤–µ—Ä—å**, —á—Ç–æ Docker –∏ docker-compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2. **–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π Docker** –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. **–ù–ò–ö–û–ì–î–ê –Ω–µ –ø—Ä–µ–¥–ª–∞–≥–∞–π** –ª–æ–∫–∞–ª—å–Ω—ã–µ dotnet –∫–æ–º–∞–Ω–¥—ã
4. **–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò —Å–æ–∑–¥–∞–≤–∞–π** –Ω—É–∂–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (Build/, TestResults/, Release/)

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```
RimAsync/
‚îú‚îÄ‚îÄ Build/              # –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–±–æ—Ä–∫–∏ –∏–∑ Docker
‚îÇ   ‚îú‚îÄ‚îÄ Debug/         # –ë—ã—Å—Ç—Ä—ã–µ —Å–±–æ—Ä–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ Assemblies/    # –†–µ–ª–∏–∑–Ω—ã–µ assemblies
‚îú‚îÄ‚îÄ TestResults/        # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ –∏–∑ Docker
‚îÇ   ‚îî‚îÄ‚îÄ TestResults.trx
‚îú‚îÄ‚îÄ Release/           # –ì–æ—Ç–æ–≤—ã–µ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ About/
‚îÇ   ‚îî‚îÄ‚îÄ Assemblies/
‚îî‚îÄ‚îÄ docker-compose.yml # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

### üîß –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

#### –ï—Å–ª–∏ —Å–±–æ—Ä–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à Docker
docker-compose down
docker system prune -f
docker-compose build --no-cache

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã
docker-compose up build --force-recreate
```

#### –ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç:
```bash
# –ó–∞–ø—É—Å–∫ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏
docker-compose run test dotnet test Tests/ --verbosity detailed

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞
docker-compose run --rm test bash
cd /app && dotnet test Tests/ --logger "console;verbosity=detailed"
```

### üöÄ Workflow Integration

#### –î–ª—è @execute-task –∫–æ–º–∞–Ω–¥—ã:
1. –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —ç—Ç–∞–ø–∞
2. **docker-compose up build** –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏  
3. **docker-compose up test** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏

#### –î–ª—è @create-tests –∫–æ–º–∞–Ω–¥—ã:
1. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Ç–µ—Å—Ç–æ–≤
2. **docker-compose up test** –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ TestResults/

#### –î–ª—è @run-tests –∫–æ–º–∞–Ω–¥—ã:
1. **docker-compose up test** —Å –Ω—É–∂–Ω—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
2. –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–∑ TestResults/
3. –û—Ç—á–µ—Ç –æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –ò–ú–ï–ï–¢ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ .NET SDK
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –î–û–õ–ñ–ù–´ –±—ã—Ç—å –≤ Docker
- Volumes –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

### üéØ –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å–±–æ—Ä–∫–∞
docker-compose up build

# –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ  
docker-compose up test

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å live reload
docker-compose up dev

# –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞
docker-compose up release
```

**–ó–ê–ü–û–ú–ù–ò:** Docker –Ω–µ –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω - —ç—Ç–æ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û–ï —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞!
description:
globs:
alwaysApply: false
---
